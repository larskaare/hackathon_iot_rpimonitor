<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<title>IOT Hackathon - RPI Monitor</title>
	<link rel="stylesheet" href="css/reveal.css">
	<!--<link rel="stylesheet" href="css/theme/black.css">-->
	<link rel="stylesheet" href="css/theme/night.css" <!-- Theme used for syntax highlighting of code -->
	<link rel="stylesheet" href="lib/css/zenburn.css">
	<!-- Printing and PDF exports -->
	<script>
		var link = document.createElement('link');
		link.rel = 'stylesheet';
		link.type = 'text/css';
		link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
		document.getElementsByTagName('head')[0].appendChild(link);

		Reveal.initialize({
			transition: 'slide',
			dependencies: [
				{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
				{ src: 'plugin/zoom-js/zoom.js', async: true }
			]	
		});

		
	</script>
</head>

<body>
	<div class="reveal">
		<div class="slides">
			<section>
				<h1>IOT Hackathon</h1>
				<p>Raspberry PI Monitor</p>
				<p style="color: red"><q>Everyone &amp; Everything is connected</q></p>
			</section>
			<section>
				<h2>Goal</h2>
				<blockquote>
					&ldquo;Starting from a Software Development Perspective, trigger and nurture curiosity towards IOT - technology, appliances,
					impact, opportunities and risks.&rdquo;
				</blockquote>
			</section>
			<section>
				<h2>Tutorial</h2>
				<ol>
					<li class="fragment">Hello world from Arduino</li>
					<li class="fragment">Hello world from Raspberry PI</li>
					<li class="fragment">Raspberry PI + Arduino</li>
					<li class="fragment">Adding a temperature sensor</li>
					<li class="fragment">Adding Motion detection</li>
					<li class="fragment">Adding a camera</li>
					<li class="fragment">Pushing data to the cloud</li>
					<li class="fragment" style="color: red">Keep on experimenting!</li>
				</ol>
			</section>
			<section>
				<h2>Fasten your seat belts!</h2>
				<p>I want to get you to the "keep on experimenting" parts as fast as possible. This is where the good stuff happens!</p>
			</section>
			<section>
					<p>
					<blockquote>&ldquo;Every significant journey in computer science starts with a hello world!&rdquo;</blockquote>
					</p>
				</section>
			<!-- Start of Arduino hello world tutorial -->
			<section>
				<section>
					 <h1>Arduino -</br> hello world</h1>
				</section>
				<section>
					<p><a href="https://www.arduino.cc/" target="_blank">Arduino</a> - The Open Source electronics plattform</p>
					<img width="40%" height="40%" src="https://www.arduino.cc/en/uploads/Products/Uno.jpg" alt="Arduino Uno">
					<p style="font-size: 50%">Arduino Uno: Micro controller (ATmega328P), 14 Digital I/O Pins - 6 is <a href="https://www.arduino.cc/en/Tutorial/PWM"
										target="_blank">PWM</a>, 6 Analoge Input Pins, 5v, 3.3v, USB Connection.
						<p style="font-size: 60%">A ton of sensors and examples available. </p>
				</section>
				<section>
					<h2>Connecting Laptop/IDE to Arduino</h2>
					<p>Using USB would be a good start</p>
				</section>
				<section>
					<p>Start Arduino IDE</p>
					<img width="10%" height="10%" src="https://blog.arduino.cc/wp-content/uploads/2013/07/Arduino_logo_pantone.png" alt="Arduino IDE Logo"></br>
					<img src="./images/Arduino-about.png">
				</section>		
				<section>
					<p>Making the internal led blink</p>
					<table style="font-size: 80%">
						<tr>
							<td>
								<ul>
									<li>Verify that the board is connected (Tools->Board &amp; Tools->Port)
									<li>Create a new sketch</li>
									<li>Add code <a href="https://www.arduino.cc/en/Reference/HomePage" target="_blank">(Reference)</a></li>
									<li>Verify &amp; Upload to Arduino</li>
									<li>Disconnect, connect - executes program in memory</li>
									<li>Can run stand-alone with batteries</li>
								</ul>
							</td>
							<td>
								 <img src="./images/Arduino-helloworld-1.png">
							</td>
						</tr>
					</table>
					
				</section>
				<section>
					<pre><code class="hljs" data-trim contenteditabl style="font-size: 100%">
void setup() {
// put your setup code here, to run once:
	pinMode(LED_BUILTIN, OUTPUT);
}

void loop() {
	// put your main code here, to run repeatedly:
	//Set led to high, wait a second, set led to low, wait a second and then repeat
	digitalWrite(LED_BUILTIN, HIGH);   
	delay(1000);                       
	digitalWrite(LED_BUILTIN, LOW);    
	delay(1000);                       
}
					</code></pre>
				</section>
				<section>
					<p>Adding a breadboard with led</p>
					<p style="font-size: 50%">Put led on pin digital 13, led short-pin is negative</p>
					<img width="60%" length="60%" src="./images/Arduino-simple-led.png">
					<p>Breadboard - a versatile experimentation device</br>
					</p> 
				</section>
				<section>
					<p>Adding button, turning led on/off</p>
					<p style="font-size: 50%">Put led on pin digital 9, button on digital pin 7</p>
					<img width="50%" length="50%" src="./images/Arduino-simple-led-button.png">
					</p>
				</section>
					<section>
					<pre>
int ledPin = 9;
int buttonPin = 7;

void setup() {
  pinMode(ledPin, OUTPUT);
  pinMode(buttonPin, INPUT);
  digitalWrite(ledPin,LOW);
  Serial.begin(9600);
}

void loop() {
  int buttonStatus = digitalRead(buttonPin);
  if (buttonStatus == HIGH) {
     digitalWrite(ledPin,HIGH);
     //Serial.println("High");
  } else {
     digitalWrite(ledPin,LOW);
     //Serial.println("Low");
  }      
}
					</pre>
					<pre><blockquote>'Tool->Serial monitor' for debugging</blockquote></pre>
				</section>
				<section>
					<p>Task: Change Arduino logic to include state, know if led is on/off and change accordingly</p>
					<p style="font-size: 75%">One press turns led on, the next turns led-off</p>
				</section>
	
			</section>

			<!-- Start of Raspberry PI hello world tutorial -->
			<section>
				<section data-background="https://www.raspberrypi.org/wp-content/uploads/2015/08/raspberry-pi-logo.png">
					<h1>Raspberry PI</br>- hello world</h1>
				</section>
				<section>
					<p><a href="https://www.raspberrypi.org/">RaspberryPI</a> - The Credit-card-sized computer</p>
					<img width="40%" height="40%" src="https://www.element14.com/community/servlet/JiveServlet/showImage/102-80899-15-252356/Pi3+Breakout+Feb+29+2016.png"
									alt="Raspberry PI V3 Model B">
					<p style="font-size: 50%"><a href="https://www.raspberrypi.org/products/raspberry-pi-3-model-b/" target="_blank">RPI v3, Model B</a>: 1.2 Ghz
						64-Bits Quad Core Arm CPU, Wifi, Bluetooth, 1 GB Ram, 4 Usb Ports, 40 GPIO Pins (only Digital), Full HDMI Support,
						Ethernet port, Audio Jack, Micro SD storage, Own video graphics core </p>
					<p style="font-size: 60%"><a href="https://www.raspberrypi.org/downloads/" target="_blank">Supporting</a> multiple Linux versions and Windows
						10 IOT Core </p>
					<p style="font-size: 60%">A huge community, a lot of sensors and examples available. </p>
				</section>
				<section>
					<h2>Connecting peripherals and booting raspbian</h2>
					<img width="10%" height="10%" src="https://www.raspberrypi.org/wp-content/uploads/2015/08/raspberry-pi-logo.png">
					<p>HDMI to monitor, USB keyboard and mouse, MicroSD card loaded, USB Micro power adapter</p>
					<p><a href="https://www.raspberrypi.org/">https://www.raspberrypi.org/</a></p>
				</section>
				<section>
						<h2>Logging in</h2>
					<ul>
						<li>Logging in using pi/"password"</li>
						<li>Booting to Pixel (X) or terminal?</br>
						<div style="color: red">sudo raspi-config"</div> or </br><div style="color: red">"berry->Preferences->Raspberry PI Configuration" to change</div></li>
					</ul>				
					
				</section>
				<section>
					<h2>We have cheated</h2>
					<p>and pre-installed stuff like</p>
					<ul>
						<li>Raspbian (debian based)</li>
						<li>NodeJs</li>
						<li>Docker</li>
						<li>Wifi config</li>
					</ul>
					<p></p>
					<div style="font-size: 90%">
					A few words on security;<div style="color: red">this is a computer,</div> having quite a few more attach vectors than the Arduino
					</div>
				</section>
				<section>
					<p>Using a terminal windows, we create a home (folder) for our project, </br>init git and node</p>
					<pre><code class="hljs" data-triM>
						cd
						mkdir -p code/iotrocks
						cd code/iotrocks
						git init
						npm init  (default on all questions)
						touch index.js
					</code></pre>
				</section>
				<section>
					<h2>Hello world from Rasperry PI &amp; NodeJs</h2>
					<p>Edit index.js</p>
					<pre><code class="hljs" data-triM>
						console.log("Hello world");
					</code></pre>
					<p>Execute our nodejs hello world</p>
					<pre><code class="hljs" data-triM>
						node index.js
					</code></pre>
				</section>		
			</section>
			

			<!-- Start of RPI + Arduino tutorial -->
			<section>
				<section>
					<h2>Hello World!</br> Best regards from Raspberry PI &amp; Arduino</h2>
				</section>
				<section>
					<h2>Connect to wifi-network</h2>
					<p>Use gui tool or edit</p><div style="color: cornflowerblue">/etc/wpa_supplicant/wpa_supplicant.conf</div>
					<pre><code class="hljs" data-trim>
						identity=""
						password=""
					</code></pre>
					<p style="font-size: 60%">Remember sudo and "ifdown wlan0" and "ifup wlan0" to restart network interface</p>
				</section>
				<section>
					<h2>Arduino &amp; and RPI = Happy Marriage?</h2>
				</section>
				<section>
					<h2>Introducing</h2>
					<a href="http://johnny-five.io/" target="_blank"><img width="80%" height="80%" src="http://johnny-five.io/img/static/johnny-five-fb.png"></a>
				</section>
				<section>
					<h2>Loading firmata into the Arduino</h2>
					<p style="font-size: 50%">Firmata is a protocol for communicating with microcontrollers from software on a computer (or smartphone/tablet, etc). The protocol can be implemented in firmware on any microcontroller architecture as well as software on any computer software package</p>
					<ol>
						<li>Start Arduino ide</li>
						<li>Load Standard Firmata</br> "File->Examples->Firmata->StandardFirmata"</li>
						<li>Upload code to Arduino</li>
						<li>Connect Arduino to Raspberry PI</li>
					</ol>
				</section>
				<section>
					<p>Let us extend our RPI "hello world" to include Johnny-Five"</p>
					<p>Edit index.js (geany index.js &amp;) to J5 and the <a href="http://johnny-five.io/api/led/" target="_blank">led</a></p>
					<pre><code class="hljs" data-trim>
var five = require("johnny-five");

var board = new five.Board({
	repl: false,
	debug: false
	});

board.on("ready", function() {

	var led = new five.Led(9);

	led.on();

});						
					</code></pre>
				</section>	
				<section>
					<p>Preparing johnny-five for node &amp; execute index.js</p>
					<p style="font-size: 50%">(Standing in the project directory ~/code/iotrocks/)</p>
					<pre><code class="hljs" data-trim>
						npm install johnny-five --save
						node index.js
					</code></pre>
					<p style="font-size: 50%">Be patient - it takes 1-2 seconds to turn the led on</p>
				</section>
				<section>
					<p>Adding support for the <a href="http://johnny-five.io/api/button/" target="_blank">button</a></p>
					<p style="font-size: 50%">(Alter the board.on function in index.js)</p>
					<pre><code class="hljs" data-trim>
board.on("ready", function() {
	console.log("Board is ready");
	var led = new five.Led(9);
	var button = new five.Button({
		pin: 7,
		invert: true
		});
	led.off();
	button.on("press", function() {
		led.on();
	});
	button.on("release", function() {
		led.off();
	});
});
					</code></pre>
					<p style="font-size: 50%">Run code and verify</p>
				</section>
				<section>
					<p>Tasks:</p>
					<ol>
						<li>Change Arduino logic to include state, know if led is on/off and change accordingly</li>
						<li>Add files to index in git</li>
						<li>Create a .gitignore to exclude the node_modules/ folder</li>
						<li>Do a git commit (and perhaps tell git about yourself)</li>
					</ol>	
					
				</section>	
			</section>
			
			<!-- Start of Adding a temperature sensor -->
			<section>
				<section>
					<p>
						<h1>Adding a temperature sensor</h1>
					</p>
				</section>
				<section>
					<p>About the sensor</p>
				</section>
				<section>
					<p>Wiring</p>
				</section>
				<section>
					<p>Code</p>
				</section>
			</section>
			<!-- Start of Adding motion detection -->
			<section>
				<section>
					<p>
						<h1>Adding motion detection</h1>
					</p>
				</section>
				<section>
					<p>About the sensor</p>
				</section>
				<section>
					<p>Wiring</p>
				</section>
				<section>
					<p>Code</p>
				</section>
			</section>
			<!-- Start of Adding a camera -->
			<section>
				<section>
					<p>
						<h1>Adding camera</h1>
					</p>
				</section>
				<section>
					<p>About the camera and the interface</p>
				</section>
				<section>
					<p>Wiring</p>
				</section>
				<section>
					<p>Taking snapshots from the command line</p>
				</section>
				<section>
					<p>Taking snapshots from our app</p>
				</section>
			</section>
			<!-- Start of Pushing data to the cloud -->
			<section>
				<section>
					<p>
						<h1>Pushing data to the cloud</h1>
					</p>
				</section>
				<section>
					<p>Sending Sensor data to Elastic Search</p>
				</section>
				<section>
					<p>Sending snapshots to Cloud Storage</p>
				</section>
			</section>
			<!-- Start of you keep on experimenting -->
			<section>
				<section>
					<h2 style="color: red">You keep on experimenting!</h2>
				</section>
				<section>
					<p>Some suggestions</p>
				</section>
				<section>
					<p>Add another sensor, like temperature, light or movements - push data to the cloud</p>
				</section>
				<section>
					<p>Change instrumentation on cloud side, utilize IOT-Hub &amp; Stream Analytics</p>
				</section>
				<section>
					<p>Re-Write app to utilize Python rather than NodeJs</p>
					<p>With, or without, support from the Arduino</p>
				</section>
				<section>
					<p>Use other tools to capture and visualize data (like InfluxDB + Graphana)</p>
				</section>
				<section>
					<p style="font-size: 70%">Create a web application to serve control device and show snapshots. Potential features:
						<ul style="font-size: 50%">
							<li>Show device status</li>
							<li>Turn motion detection on/off</li>
							<li>Show snapshots</li>
							<li>Implement notification &amp; alarms for movements (using email, mobile push, ...)</li>
						</ul>
					</p>
				</section>
				<section>
					<p style="font-size: 70%">Capture video</p>
				</section>
				<section>
					<p style="font-size: 70%">Create web application which steams live video &amp; sensor data from device</p>
				</section>
			</section>
			<!-- Start of Share from your journey -->
			<section>
				<h1 style="color: cadetblue">Share from your journey!</h1>
			</section>
		</div>
	</div>
	<script src="lib/js/head.min.js"></script>
	<script src="js/reveal.js"></script>
	<script>
		// More info https://github.com/hakimel/reveal.js#configuration
		Reveal.initialize({
			history: true,

			// More info https://github.com/hakimel/reveal.js#dependencies
			dependencies: [{
				src: 'plugin/markdown/marked.js'
			}, {
				src: 'plugin/markdown/markdown.js'
			}, {
				src: 'plugin/notes/notes.js',
				async: true
			}, {
				src: 'plugin/highlight/highlight.js',
				async: true,
				callback: function () {
					hljs.initHighlightingOnLoad();
				}
			}]
		});
	</script>
</body>

</html>